var app={init:function(){app.functionOne()},functionOne:function(){}};function hamburgerMenu(){$("#content").toggle(),$("#hamburger-menu").toggle()}$("document").ready(function(){app.init()}),window.innerWidth<=991&&$(".layout--bg").css("height",window.innerHeight);var baby_name,baby_gender,baby_weight,baby_birthday,baby_age,baby_height,baby_head,presentil_x_sabit,presentil_x_sabit_boy,presentil_x_sabit_bas,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_sabit_boy,presentil_y_carpan,presentil_y_carpan_boy,presentil_y_pixel_carpan,presentil_y,presentil_y_sabit_bas,age_modal,startDate,endDate,datediff,x,i,j,l,ll,selElmnt,a,b,c,path=$("#path").val();function calculate(e){var t=$("select[name=baby-age] option").filter(":selected").val(),a=$("input[name=baby-gender]").filter(":checked").val(),n=$('input[name="baby-name"]').val(),i=t;"1-2"==t&&(t=0),"3-4"==t&&(t=1);var r,l,o,_,s,p=$('input[name="baby-weight"]').val(),d=$("select[name=percentage] option").filter(":selected").val(),b=[120,140,120,120,110,110,110,110,110,110,105,105,105,105][t],c=t<=6?22.68:22.74,y=t<=6?4.5:4.7,g=t<=6?2016:1936,h=t<=6?"RP1":"RP2",m="assets/img/",u=t<=6?m+"product-1.png":m+"product-2.png";console.log("baby_age"+t),p&&0<=t&&(console.log(t),0==e&&$('input[name="weight-energy"]').val(b),1!=e&&3!=e||(b=$('input[name="weight-energy"]').val()),daily_energy=d*(b*p)/100,monthly_energy=30*daily_energy,olcek_v=daily_energy/c,quantity_v=olcek_v*y,box_v=monthly_energy/g,r="","1-2"==i?r="3X6":"3-4"==i?r="4X6":2==i?r="5X6":3==i?r="6X5":4==i||5==i?r="7X5":6<=i&&(r="8X4"),daily_energy&&($('input[name="daily-energy"]').val(Math.round(daily_energy)),$('input[name="monthly-energy"]').val(Math.round(monthly_energy)),$(".scale-container").html("<span class='scale'>"+Math.round(olcek_v)+"</span> ölçek"),$(".quantity-container").html("<span class='quantity'>"+Math.round(quantity_v)+"</span> gr"),$(".box").html(Math.round(box_v)),$(".product").html(h),$("#product_image").attr("src",u)),3==e&&(100==d?percentage_text="%100’ü":90==d?percentage_text="%90’ı":90==d?percentage_text="%80’i":90==d?percentage_text="%70’i":90==d?percentage_text="%60’ı":90==d?percentage_text="%50’si":90==d?percentage_text="%40’ı":90==d?percentage_text="%30’u":90==d?percentage_text="%20’si":90==d&&(percentage_text="%10’u"),$(".modal-content-yuzde").html(percentage_text),$(".modal-content-miktar-urun").html(Math.round(daily_energy)+" kcal, Evolvia "+h),$(".modal-content-olcek").html(Math.round(quantity_v)+" gr - "+Math.round(olcek_v)+" ölçek"),$(".modal-content-pozoloji").html(r+" pozolojide"),$(".modal-content-box").html(Math.round(box_v)+" kutu"),baby_age_print="1-2"==i?"1-2 Haftalık":"3-4"==i?"3-4 Haftalık":t+"Aylık",baby_gender_print="boy"==a?"Erkek":"Kız",o=(l=new Date).getMonth()+1,_=l.getDate(),s=l.getFullYear(),$(".modal-content-name").html(n),$(".modal-content-age").html(baby_age_print),$(".modal-content-gender").html(baby_gender_print),$(".modal-content-kg").html(p+" kg"),$(".modal-content-date").html(_+"/"+o+"/"+s)))}function CurrencyFormatted(e){var t=parseFloat(e);isNaN(t)&&(t=0);var a=t<0?"-":"",t=Math.abs(t);return t=parseInt(100*(t+.005)),t/=100,s=new String(t),s.indexOf(".")<0&&(s+=".00"),s.indexOf(".")==s.length-2&&(s+="0"),s=a+s,s}function restrictAlphabets(e){var t=e.which||e.keycode;return 48<=t&&t<=57}function weightControl(e,t){if(!(20<e||e<1))return!0;var a="Persentil hesaplaması için ağırlık 1kg - 20kg aralığında olmalı";if(1==t)return a;alertPopup(a)}function heightControl(e,t){if(!(110<e||e<30))return!0;var a="Persentil hesaplaması için boy 30cm - 110cm aralığında olmalı";if(1==t)return a;alertPopup(a)}function headControl(e,t){if(!(52<e||e<34))return!0;var a="Persentil hesaplaması için baş çevresi 34cm - 52cm (Erkek için 53cm) aralığında olmalı";if(1==t)return a;alertPopup(a)}function alertTotalControl(e,t,a){var n=new Array;e&&null!=e&&1!=weightControl(e,1)&&n.push(weightControl(e,1)),t&&null!=t&&1!=heightControl(t,1)&&n.push(heightControl(t,1)),a&&null!=a&&1!=headControl(a,1)&&n.push(headControl(a,1)),0<n.length&&alertPopup(n,1)}function genderControl(e){return"boy"==e?(presentil_y_sabit_bas=1408,$(".graph_boy").css("display","block"),$(".graph_girl").css("display","none"),$(".graph_girl").addClass("print_hidden"),$(".graph_boy").removeClass("print_hidden")):"girl"==e&&(presentil_y_sabit_bas=1343,$(".graph_boy").css("display","none"),$(".graph_girl").css("display","block"),$(".graph_boy").addClass("print_hidden"),$(".graph_girl").removeClass("print_hidden")),presentil_y_sabit_bas}function printJS_(e){var t=$('input[name="baby_height"]').val(),a=$('input[name="baby_head"]').val(),n=$('input[name="baby_birthday"]').val();$(".print_height").html(t+" cm"),$(".print_head").html(a+" cm"),$(".print_age").html(n+" aylık");var i=new Date,r=i.getMonth()+1,l=i.getDate(),o=i.getFullYear();$(".print_date").html(l+"/"+r+"/"+o),"kg"==e?printJS("print_area_kg","html"):"boy"==e?printJS("print_area_boy","html"):"bas"==e?printJS("print_area_bas","html"):"detail"==e&&printJS("print_raport_area","html")}function presentilBoyBasControl(e){var t=$('input[name="baby_height"]').val(),a=$('input[name="baby_head"]').val(),n=0;t?(n+=1,1==heightControl(t,e)?(--n,$(".presentil-degerler__boy__presentil").show(),presentil_y_boy=t,presentil_ciz_boy(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y_boy,e)):$(".presentil-degerler__boy__presentil").hide()):$(".presentil-degerler__boy__presentil").hide(),a?(n+=1,1==headControl(a,e)?(--n,$(".presentil-degerler__bas__presentil").show(),presentil_y_bas=a*presentil_y_pixel_carpan,presentil_ciz_bas(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y_bas,e)):$(".presentil-degerler__bas__presentil").hide()):$(".presentil-degerler__bas__presentil").hide(),1!=e&&0<=n&&alertTotalControl(null,t,a)}function presentil_ciz(e,t,a,n,i,r){var l=e+t*a,o=n-i*r;$("#dot_kg").attr("x",l),$("#dot_kg").attr("y",o),$("#dot_kg_g").attr("x",l),$("#dot_kg_g").attr("y",o)}function presentil_ciz_boy(e,t,a,n,i,r){var l=presentil_x_sabit_boy+t*a,o=presentil_y_sabit_boy-presentil_y_carpan_boy*r;$("#dot_boy").attr("x",l),$("#dot_boy").attr("y",o),$("#dot_boy_g").attr("x",l),$("#dot_boy_g").attr("y",o)}function presentil_ciz_bas(e,t,a,n,i,r){var l=presentil_x_sabit_bas+t*a,o=presentil_y_sabit_bas-10*r;$("#dot_bas").attr("x",l),$("#dot_bas").attr("y",o),$("#dot_bas_g").attr("x",l),$("#dot_bas_g").attr("y",o)}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}for("urun-icerigi"==path&&$(".topnav--item__1").addClass("topnav--item--active"),"beslenme-tablosu"==path&&$(".topnav--item__2").addClass("topnav--item--active"),"kimler-rapor-yazabilir"==path&&$(".topnav--item__3").addClass("topnav--item--active"),"pirinc-proteini-bazli-formula-ile-tarifler"==path&&$(".topnav--item__4").addClass("topnav--item--active"),"doz-hesapla"==path&&(1024<window.innerWidth&&$(".module--title__module__doz").css("display","block"),$(".inner__header__doz__hesapla__js").css("display","none")),"persentil-hesapla"==path&&(1024<window.innerWidth&&$(".module--title__module__presentil").css("display","block"),$(".inner__header__presentil__hesapla__js").css("display","none")),"doz-hesapla"==path&&($('input[name="weight-energy"]').val("---"),$('input[name="daily-energy"]').val("---"),$('input[name="monthly-energy"]').val("---"),$(".scale-container").html("<span class='scale'>...</span>"),$(".quantity-container").html("<span class='quantity'>...</span>"),$(".quantity").html("..."),$(".box").html("..."),$('input[name="baby-weight"]').on("input",function(){calculate(0)}),$('input[name="weight-energy"]').on("input",function(){calculate(1)}),$("#percentage").on("change",function(){calculate(0)})),"persentil-degerler"==path&&(baby_name=getParameterByName("baby-name"),baby_gender=getParameterByName("baby-gender"),baby_weight=getParameterByName("baby-weight"),baby_birthday=getParameterByName("baby-birthday"),baby_age=getParameterByName("baby-age"),baby_height=getParameterByName("baby-height"),baby_head=getParameterByName("baby-head"),alertTotalControl(baby_weight,baby_height,baby_head),presentil_x_sabit=23,presentil_x_sabit_boy=32,presentil_x_sabit_bas=27,presentil_x_carpan=17,presentil_x=0,presentil_y_sabit=512,presentil_y_sabit_boy=564,presentil_y_carpan=10,presentil_y_carpan_boy=5.2,presentil_y=baby_weight*(presentil_y_pixel_carpan=2.6),presentil_y_sabit_bas=genderControl(baby_gender),baby_age?("1-2"==baby_age?baby_age=0:"3-4"==baby_age&&(baby_age=1),$("#baby_birthday").val(baby_age),$("#baby_birthday_m").val(baby_age),12<baby_age?((age_modal=document.getElementById("age-modal")).style.display="block",$('input[name="baby-name"]').val(baby_name),$('input[name="baby-gender"]').val(baby_gender),$('input[name="baby-weight"]').val(baby_weight),$('input[name="baby-height"]').val(baby_height),$('input[name="baby-head"]').val(baby_head),$(".close").click(function(){age_modal.style.display="none"})):presentil_x=baby_age):baby_birthday&&(birth_date=baby_birthday.split("/"),birth_year=birth_date[2].trim(),birth_month=birth_date[1].trim(),birth_day=birth_date[0].trim(),startDate=new Date(birth_year+"-"+birth_month+"-"+birth_day),datediff=12*(endDate=new Date).getFullYear()+endDate.getMonth()-(12*startDate.getFullYear()+startDate.getMonth()),$("#baby_birthday").val(datediff),$("#baby_birthday_m").val(datediff),presentil_x=datediff),$('input[name="baby_name"]').val(baby_name),$("#baby_gender option[value='"+baby_gender+"']").prop("selected",!0),$('input[name="baby_weight"]').val(baby_weight),$('input[name="baby_height"]').val(baby_height),$('input[name="baby_head"]').val(baby_head),baby_gender_print="boy"==baby_gender?"Erkek":"Kız",baby_age_print=datediff||baby_age,baby_height_print=$('input[name="baby_height"]').val(),$(".print_name").html(baby_name),$(".print_gender").html(baby_gender_print),$(".print_weight").html(baby_weight+" kg"),presentilBoyBasControl(1),$(".hesapla-btn").click(function(){var e=$('input[name="baby_height"]').val();$('input[name="baby_head"]').val()||e||alertPopup("Bebeğin Boyu ve Bebeğin Baş Çevresi'ni girin. "),presentilBoyBasControl(0)}),presentil_ciz(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y),$("#baby_birthday").on("input",function(){presentil_x=$("#baby_birthday").val(),presentil_ciz(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y),$('input[name="baby_height"]').val()&&(presentil_y_boy=$('input[name="baby_height"]').val(),presentil_ciz_boy(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y_boy)),$('input[name="baby_head"]').val()&&(presentil_y_bas=$('input[name="baby_head"]').val()*presentil_y_pixel_carpan,presentil_ciz_bas(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y_bas))}),$("#baby_gender").on("change",function(){genderControl(baby_gender=$("select[name=baby_gender] option").filter(":selected").val()),baby_head=$('input[name="baby_head"]').val(),baby_height=$('input[name="baby_height"]').val(),(baby_head||baby_height)&&$(".hesapla-btn").click()}),$('input[name="baby_weight"]').on("input",function(){(baby_weight=$('input[name="baby_weight"]').val())&&1==weightControl(baby_weight)&&presentil_ciz(presentil_x_sabit,presentil_x_carpan,presentil_x,presentil_y_sabit,presentil_y_carpan,presentil_y=baby_weight*presentil_y_pixel_carpan)})),$(".urun--icerik--product--detail--1").hide(),$(".urun--icerik--product--detail--2").hide(),$(".product__detail__button__1").click(function(){$(".urun--icerik--main").hide(),$(".urun--icerik--product--detail--1").show()}),$(".urun--icerik--product--detail--1__back").click(function(){$(".urun--icerik--main").show(),$(".urun--icerik--product--detail--1").hide()}),$(".urun--icerik--product--detail--other--product--button__1").click(function(){$(".urun--icerik--product--detail--1").hide(),$(".urun--icerik--product--detail--2").show()}),$(".product__detail__button__2").click(function(){$(".urun--icerik--main").hide(),$(".urun--icerik--product--detail--2").show()}),$(".urun--icerik--product--detail--2__back").click(function(){$(".urun--icerik--main").show(),$(".urun--icerik--product--detail--2").hide()}),$(".urun--icerik--product--detail--other--product--button__2").click(function(){$(".urun--icerik--product--detail--1").show(),$(".urun--icerik--product--detail--2").hide()}),$(".urun--icerik--product--detail--full").click(function(){history.back()}),l=(x=document.getElementsByClassName("custom-select")).length,i=0;i<l;i++){for(ll=(selElmnt=x[i].getElementsByTagName("select")[0]).length,(a=document.createElement("DIV")).setAttribute("class","select-selected"),a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,x[i].appendChild(a),(b=document.createElement("DIV")).setAttribute("class","select-items select-hide"),j=1;j<ll;j++)(c=document.createElement("DIV")).innerHTML=selElmnt.options[j].innerHTML,c.addEventListener("click",function(e){for(var t,a,n,i=this.parentNode.parentNode.getElementsByTagName("select")[0],r=i.length,l=this.parentNode.previousSibling,o=0;o<r;o++)if(i.options[o].innerHTML==this.innerHTML){for(i.selectedIndex=o,$("#percentage").trigger("change"),$("#baby_birthday").trigger("change"),$("#baby_gender").trigger("change"),$("#baby-age").trigger("change"),l.innerHTML=this.innerHTML,n=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,a=0;a<n;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()}),b.appendChild(c);x[i].appendChild(b),a.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function closeAllSelect(e){for(var t=[],a=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),i=a.length,r=n.length,l=0;l<r;l++)e==n[l]?t.push(l):n[l].classList.remove("select-arrow-active");for(l=0;l<i;l++)t.indexOf(l)&&a[l].classList.add("select-hide")}function transform(e){return 15<e?"15+":e}document.addEventListener("click",closeAllSelect),$("#datetimepicker1").datepicker({format:"dd / mm / yyyy",autoclose:!0,language:"tr"}),$(".datepicker .datepicker-inline").hide(),$("#baby-birthday").change(function(){$(".datepicker .datepicker-inline").hide()}),$(document).click(function(e){$target=$(e.target),!$target.closest(".datepicker").length&&$(".datepicker").is(":visible")&&$(".datepicker .datepicker-inline").hide()}),$("#datetimepicker1 > div > div.datepicker-days > table > thead > tr:nth-child(2) > th.prev").html(' <img class="presentil-hesapla--img__prev filter-dark-blue" src="assets/img/prev.svg">'),$("#datetimepicker1 > div > div.datepicker-days > table > thead > tr:nth-child(2) > th.next").html(' <img class="presentil-hesapla--img__prev filter-dark-blue" src="assets/img/next.svg">'),window.innerWidth<=991&&$(".layout--bg").css("height",window.innerHeight);var modal_raport,btn_raport,close,modal_raport_detail,btn_raport_detail,span,grid_num_bab_weight=1024<window.innerWidth?21:7,grid_num_baby_height=1024<window.innerWidth?15:5,grid_num_baby_head=5;function my_prettify(e){return e+" cm"}function my_prettify_2(e){return e+" kg"}function showDetail(){var e=$('input[name="report-detail"]:checked').val(),t=e.replace(/\./g,"_"),a=$("."+t).html();$("#icd").html(e+" "+a),$("#icd_text").html(a),calculate(3)}function alertPopup(e,t){var a=document.getElementById("alert-modal");a.style.display="block",1!=t?$(".warning-text").html(e):($(".warning-text").html(""),$.each(e,function(e,t){console.log(t),$(".warning-text").append(t),$(".warning-text").append("<br>")})),$(".close").click(function(){a.style.display="none"})}function resetDozHesapla(){location.reload()}function scrollFunction(){250<document.body.scrollTop||250<document.documentElement.scrollTop?$(".scrollUp").css("display","block"):$(".scrollUp").css("display","none")}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function validateKeyStrokes(e){var t=e.keyCode;return 65<=t&&t<=90||8==t}$("#slider-baby-weight").ionRangeSlider({grid:!0,min:1,max:22,from:0,step:.1,prettify:my_prettify_2,grid_num:grid_num_bab_weight}),$("#slider-baby-height").ionRangeSlider({grid:!0,min:40,max:115,step:1,from:0,prettify:my_prettify,grid_num:grid_num_baby_height}),$("#slider-baby-head").ionRangeSlider({grid:!0,min:30,max:55,step:1,from:0,prettify:my_prettify,grid_num:grid_num_baby_head}),$("#slider-baby-weight").val(0),$("#slider-baby-height").val(0),$("#slider-baby-head").val(0),$("#presentil-hesapla--form").submit(function(e){var t,a=$('input[name="baby-name"]').val(),n=$('input[name="baby-birthday"]').val(),i=$('input[name="baby-gender"]').filter(":checked").val();weight_control_value=$("#slider-baby-weight").val(),height_control_value=$("#slider-baby-height").val(),head_control_value=$("#slider-baby-head").val(),0!=weight_control_value&&0!=height_control_value&&0!=head_control_value&&a&&n&&i||(e.preventDefault(),(t=document.getElementById("alert-modal")).style.display="block",$(".warning-text").html(" "),a||($(".warning-text").append("Lütfen Bebeğin Adını girin"),$(".warning-text").append("<br>")),n||($(".warning-text").append("Lütfen Bebeğin Doğum Tarihini girin"),$(".warning-text").append("<br>")),i||($(".warning-text").append("Lütfen Bebeğin Cinsiyetini girin"),$(".warning-text").append("<br>")),0==weight_control_value&&($(".warning-text").append("Lütfen Bebeğin Kilosunu girin"),$(".warning-text").append("<br>")),0==height_control_value&&($(".warning-text").append("Lütfen Bebeğin Boyunu girin"),$(".warning-text").append("<br>")),0==head_control_value&&($(".warning-text").append("Lütfen Bebeğin Baş Çevresini girin"),$(".warning-text").append("<br>")),$(".close").click(function(){t.style.display="none"}))}),$(".urun--icerik--product--detail--1__back").click(function(){history.go(-1)}),"main"==path&&(window.onload=function(){var e=sessionStorage.getItem("popupOnce_"),t=document.getElementById("warning-modal");e||(t.style.display="block"),$("#warning-modal-continue-btn").click(function(){sessionStorage.setItem("popupOnce_","true"),t.style.display="none"}),$("#warning-modal-back-btn").click(function(){window.location.replace("http://www.evolvia.com.tr/")})}),"doz-hesapla"==path&&(modal_raport=document.getElementById("raport-modal"),btn_raport=document.getElementById("raport-modal-btn"),close=document.getElementById("close-modal-raport"),btn_raport.onclick=function(){var e,t=$('input[name="baby-weight"]').val(),a=$("select[name=baby-age] option").filter(":selected").val(),n=$('input[name="baby-name"]').val(),i=$("input[name=baby-gender]").filter(":checked").val();t&&a&&n&&i?(modal_raport.style.display="block",$("html, body").animate({scrollTop:0})):((e=document.getElementById("alert-modal")).style.display="block",$(".warning-text").html(" "),baby_weight_error="",baby_age_error="",baby_name_error="",baby_gender_error="",seperator_1="",seperator_2="",seperator_3="",t||(baby_weight_error="Kilosunu"),a||(baby_age_error="Yaşını"),n||(baby_name_error="İsmini"),i||(baby_gender_error="Cinsiyetini"),baby_age_error&&(seperator_1=", "),baby_name_error&&(seperator_2=", "),baby_gender_error&&(seperator_3=", "),$(".warning-text").append("Lütfen Bebeğin "+baby_weight_error+seperator_1+baby_age_error+seperator_2+baby_name_error+seperator_3+baby_gender_error+" Girin"),$(".close").click(function(){e.style.display="none"}))},close.onclick=function(){modal_raport.style.display="none"},window.onclick=function(e){e.target==modal_raport&&(modal_raport.style.display="none")},modal_raport_detail=document.getElementById("raport-modal-detail"),btn_raport_detail=document.getElementById("raport-modal-detail-btn"),span=document.getElementById("close-modal"),$(".warning-model-text").hide(),btn_raport_detail.onclick=function(){$("input[name=report-detail]").filter(":checked").val()?(modal_raport_detail.style.display="block",modal_raport.style.display="none",showDetail()):$(".warning-model-text").show()},span.onclick=function(){modal_raport_detail.style.display="none"},window.onclick=function(e){e.target==modal_raport_detail&&(modal_raport_detail.style.display="none")}),$(".custom-select").click(function(){$(".select-selected").click()}),$("#raport-modal-print-btn").click(function(){$("#raport-modal-print-btn").hide(),$(".close").hide(),$("#print_area_modal_detail").show(),window.print()}),window.onafterprint=function(){$("#raport-modal-print-btn").show(),$(".close").show()},window.onscroll=function(){scrollFunction()},$(".modal-ref-btn").click(function(){document.getElementById("alert-modal").style.display="block",$(".modal-ref").css("display","block")}),$(".close").click(function(){document.getElementById("alert-modal").style.display="none",$(".modal-ref").css("display","none")});